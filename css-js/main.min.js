function isUrl(a){var b=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return b.test(a)}jQuery(document).ready(function(a){var b;a(".shorten-form .form").submit(function(c){c.preventDefault();var d=a('input[name="longurl"]');d.removeClass("is-error"),a(this).find(".form--error-text").addClass("is-hidden");var e=a('select[name="method"]');if(d.val().length>0&&isUrl(d.val())){var f=d.val(),g=e.val();a(".shorten-form--response").removeClass("is-hidden"),a(".shorten-form--response--url").val("Creating link ..."),a.ajax({url:"result.php",type:"POST",dataType:"json",data:{long_url:f,method:g}}).done(function(c){"bitly"===g&&200==c.status_code&&"OK"===c.status_txt?(d.attr("placeholder",d.val()).val(""),a(".shorten-form--response--url").val(c.data.url).select().focus(),b=c.data.url):"google"===g&&void 0!==typeof c.id?(a(".shorten-form--response--url").val(c.id).select().focus(),b=c.id):a(".shorten-form--response--url").val("Sorry, invalid URL!")}).fail(function(){a(".shorten-form--response--url").val("Sorry, operation failed!")})}else d.addClass("is-error"),a(this).find(".form--error-text").removeClass("is-hidden")}),a(".shorten-form--response--url").on("focus, mouseup",function(b){a(this).select().focus()}).keyup(function(c){c.preventDefault(),a(".shorten-form--response--url").val(b)})});