function isUrl(a){var b=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return b.test(a)}jQuery(document).ready(function(a){a(".shorten-form .form").submit(function(b){b.preventDefault();var c=a('input[name="longurl"]');if(c.removeClass("is-error"),a(this).find(".form--error-text").addClass("is-hidden"),c.val().length>0&&isUrl(c.val())){var d=c.val();a(".shorten-form--response").removeClass("is-hidden"),a(".shorten-form--response--url").val("Creating link ..."),a.ajax({url:"result.php",type:"POST",dataType:"json",data:{long_url:d}}).done(function(b){200==b.status_code&&"OK"===b.status_txt?(c.attr("placeholder",c.val()).val(""),a(".shorten-form--response--url").val(b.data.url).select().focus()):a(".shorten-form--response--url").val("Sorry, invalid URL!")}).fail(function(){a(".shorten-form--response--url").val("Sorry, operation failed!")})}else c.addClass("is-error"),a(this).find(".form--error-text").removeClass("is-hidden")})});